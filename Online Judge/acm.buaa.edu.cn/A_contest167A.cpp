#include <cstdio>#include <cstring>using namespace std;int array[1001][1001];int main(int argc, char **argv) {    int n, direct = 0, sum, r, c;    while(~scanf("%d", &n)) {        direct = 1;        sum = 0;        r = 1, c = 1;        memset(array, 0, sizeof(array));        for(int i = 1; i <= n * n; ++i) {            array[r][c] = i;            if(direct == 1) {                if(c == n || array[r][c+1] > 0) {                    direct = 2;                    r++;                }                else {                    c++;                }                continue;            }            if(direct == 2) {                if(r == n || array[r+1][c] > 0) {                    direct = 3;                    c--;                }                else {                    r++;                }                continue;            }            if(direct == 3) {                if(c == 1 || array[r][c-1] > 0) {                    direct = 4;                    r--;                }                else {                    c--;                }                continue;            }            if(direct == 4) {                if(r == 1 || array[r-1][c] > 0) {                    direct = 1;                    c++;                }                else {                    r--;                }                continue;            }        }        for(int i = 1; i <= n; ++i) {            for(int j = 1; j <= n; ++j) {                printf("%d ", array[i][j]);            }            printf("\n");            sum += array[i][i];        }        printf("%d\n", sum);    }    return 0;}